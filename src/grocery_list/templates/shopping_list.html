{% extends 'base.html' %}

{% block content %}
    <h1>Grocery List</h1>
    <!-- Walmart list -->
    {% if walmart_list|length != 0 %}
        <h2>Walmart<h2>
    {% endif %}
    <ul>
        {% for item in walmart_list %} 
            <li>
                <form method="POST"> {% csrf_token %}
                    <input type="hidden" name="id" value="{{ item.id }}"/>
                    <input type="hidden" name="quantity" value="{{ item.quantity }}"/>
                    <input type="checkbox" name="bought" onchange="this.form.submit()"/>
                </form>
                {{ item.quantity }}  {{ item.name|title }} - 
                {% if item.price is None %}
                    ???
                {% else %}
                    ${{ item.price }} Each
                {% endif %}
                <form action="/update-price/" method="GET">
                    <input type="hidden" name="store" value="Walmart"/>
                    <input type="hidden" name="name" value="{{ item.name }}"/>
                    <input type="submit" value="Update Price"/>
                </form>
            </li>
        {% endfor %}
    </ul>
    <!-- Broulim's list -->
    {% if broulims_list|length != 0 %}
        <h2>Broulim's<h2>
    {% endif %}
    <ul>
        {% for item in broulims_list %}
            <li>
                <form method="POST"> {% csrf_token %}
                    <input type="hidden" name="id" value="{{ item.id }}"/>
                    <input type="checkbox" name="bought" onChange="this.form.submit()"/>
                </form>
                {{ item.quantity }}  {{ item.name|title }} - 
                {% if item.price is None %}
                    ???
                {% else %}
                    ${{ item.price }} Each
                {% endif %}
                <form action="/update-price/" method="GET">
                    <input type="hidden" name="store" value="Broulims"/>
                    <input type="hidden" name="name" value="{{ item.name }}"/>
                    <input type="submit" value="Update Price"/>
                </form>
            </li> 
        {% endfor %}
    </ul>
    <!-- Albertsons list -->
    {% if albertsons_list|length != 0 %}
        <h2>Albertsons<h2>
    {% endif %}
    <ul>
        {% for item in albertsons_list %}
            <li>
                <form method="POST"> {% csrf_token %}
                    <input type="hidden" name="id" value="{{ item.id }}"/>
                    <input type="checkbox" name="bought" onChange="this.form.submit()"/>
                </form>
                {{ item.quantity }}  {{ item.name|title }} - 
                {% if item.price is None %}
                    ???
                {% else %}
                    ${{ item.price }} Each
                {% endif %}
                <form action="/update-price/" method="GET">
                    <input type="hidden" name="store" value="Albertsons"/>
                    <input type="hidden" name="name" value="{{ item.name }}"/>
                    <input type="submit" value="Update Price"/>
                </form>
            </li>
        {% endfor %}
    </ul>
{% endblock content %}